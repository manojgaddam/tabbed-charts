<?xml version="1.0" encoding="UTF-8" ?>
  <Module>
  <ModulePrefs title="Tabs" height="800" width="600" scrolling="true" >
    <Require feature="tabs" />
    <Require feature="setprefs" />
  </ModulePrefs>
<UserPref name="dailyIframeURL" display_name="Daily Chart URL" required="true" />
<UserPref name="weeklyIframeURL" display_name="Weekly Chart URL" required="false" />
<UserPref name="monthlyIframeURL" display_name="Monthly Chart URL" required="false" />
<UserPref name="width" display_name="Width" required="true" />
<UserPref name="height" display_name="Height" required="true" />
<UserPref name="selectedTab" datatype="hidden"/>
<Content type="html">
  <![CDATA[

    <script type="text/javascript">
      // Initialize tabs, designate the tab named "Two" as
      // the tab selected by default.
      var tabs = new gadgets.TabSet(__MODULE_ID__, "Daily");
      function init() {
          // Technique #1: Capture the tab's ID when you create it, and use the ID to add content to the tab's corresponding <div>.
          var daily_tab = tabs.addTab('Daily');
          
          var prefs = new _IG_Prefs();
          var dailyIframeURL = prefs.getString('dailyIframeURL');
          var width = prefs.getString('width');
          var height = prefs.getString('height');
          
          var dailyIframe = document.createElement('iframe');
          dailyIframe.setAttribute('width',width+'px');
          dailyIframe.setAttribute('height',height+'px');
          dailyIframe.setAttribute('frameborder','no');
          dailyIframe.setAttribute('src',dailyIframeURL);
          var dest = document.getElementById(daily_tab);
          dest.innerHTML = '';
          dest.appendChild(dailyIframe);
  
          var weekly_tab = tabs.addTab('Weekly');
      }

      // Call init function to initialize and display tabs.
      gadgets.util.registerOnLoadHandler(init);
    </script>
  ]]></Content>
</Module>